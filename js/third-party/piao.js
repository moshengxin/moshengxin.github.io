"use strict";function _typeof3(t){return(_typeof3="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(t){return void 0===t?"undefined":_typeof3(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":_typeof3(t)})(t)}"object"===("undefined"==typeof window?"undefined":_typeof3(window))&&(window.Ribbons=function(){var h=window,a=document.body,r=document.documentElement,y=function t(){if(arguments.length===1){if(Array.isArray(arguments[0])){var i=Math.round(t(0,arguments[0].length-1));return arguments[0][i]}return t(0,arguments[0])}else if(arguments.length===2)return Math.random()*(arguments[1]-arguments[0])+arguments[0];return 0},s=function t(i){var n=Math.max(0,h.innerWidth||r.clientWidth||a.clientWidth||0);var o=Math.max(0,h.innerHeight||r.clientHeight||a.clientHeight||0);var e=Math.max(0,h.pageXOffset||r.scrollLeft||a.scrollLeft||0)-(r.clientLeft||0);var s=Math.max(0,h.pageYOffset||r.scrollTop||a.scrollTop||0)-(r.clientTop||0);return{width:n,height:o,ratio:n/o,centerx:n/2,centery:o/2,scrollx:e,scrolly:s}},t=function t(i){var n=s(i);var o=i?Math.max(0,i.pageX||i.clientX||0):0;var e=i?Math.max(0,i.pageY||i.clientY||0):0;return{mousex:o,mousey:e,centerx:o-n.width/2,centery:e-n.height/2}},v=function t(i,n){this.x=0;this.y=0;this.set(i,n)};v.prototype={constructor:v,set:function t(i,n){this.x=i||0;this.y=n||0},copy:function t(i){this.x=i.x||0;this.y=i.y||0;return this},multiply:function t(i,n){this.x*=i||1;this.y*=n||1;return this},divide:function t(i,n){this.x/=i||1;this.y/=n||1;return this},add:function t(i,n){this.x+=i||0;this.y+=n||0;return this},subtract:function t(i,n){this.x-=i||0;this.y-=n||0;return this},clampX:function t(i,n){this.x=Math.max(i,Math.min(this.x,n));return this},clampY:function t(i,n){this.y=Math.max(i,Math.min(this.y,n));return this},flipX:function t(){this.x*=-1;return this},flipY:function t(){this.y*=-1;return this}};var i=function t(i){this._canvas=null;this._context=null;this._sto=null;this._width=0;this._height=0;this._scroll=0;this._ribbons=[];this._options={colorSaturation:"80%",colorBrightness:"60%",colorAlpha:.65,colorCycleSpeed:6,verticalPosition:"center",horizontalSpeed:150,ribbonCount:5,strokeSize:5,parallaxAmount:-.5,animateSections:true};this._onDraw=this._onDraw.bind(this);this._onResize=this._onResize.bind(this);this._onScroll=this._onScroll.bind(this);this.setOptions(i);this.init()};return i.prototype={constructor:i,setOptions:function t(i){if(_typeof3(i)==="object")for(var n in i)if(i.hasOwnProperty(n))this._options[n]=i[n]},init:function t(){try{this._canvas=document.createElement("canvas");this._canvas.style.display="block";this._canvas.style.position="fixed";this._canvas.style.margin="0";this._canvas.style.padding="0";this._canvas.style.border="0";this._canvas.style.outline="0";this._canvas.style.left="0";this._canvas.style.top="0";this._canvas.style.width="100%";this._canvas.style.height="100%";this._canvas.style["z-index"]="-1";this._onResize();this._context=this._canvas.getContext("2d");this._context.clearRect(0,0,this._width,this._height);this._context.globalAlpha=this._options.colorAlpha;window.addEventListener("resize",this._onResize);window.addEventListener("scroll",this._onScroll);document.body.appendChild(this._canvas)}catch(t){console.warn("Canvas Context Error: "+t.toString());return}this._onDraw()},addRibbon:function t(){var i=Math.round(y(1,9))>5?"right":"left";var n=1e3;var o=200;var e=0-o;var s=this._width+o;var h=0;var a=0;var r=i==="right"?e:s;var l=Math.round(y(0,this._height));if(/^(top|min)$/i.test(this._options.verticalPosition))l=0+o;else if(/^(middle|center)$/i.test(this._options.verticalPosition))l=this._height/2;else if(/^(bottom|max)$/i.test(this._options.verticalPosition))l=this._height-o;var c=[];var p=new v(r,l);var d=new v(r,l);var _=null;var u=Math.round(y(0,360));var f=0;while(true){if(n<=0)break;n--;h=Math.round((Math.random()*1-.2)*this._options.horizontalSpeed);a=Math.round((Math.random()*1-.5)*(this._height*.25));_=new v;_.copy(d);if(i==="right"){_.add(h,a);if(d.x>=s)break}else if(i==="left"){_.subtract(h,a);if(d.x<=e)break}c.push({point1:new v(p.x,p.y),point2:new v(d.x,d.y),point3:_,color:u,delay:f,dir:i,alpha:0,phase:0});p.copy(d);d.copy(_);f+=4;u+=this._options.colorCycleSpeed}this._ribbons.push(c)},_drawRibbonSection:function t(i){if(i){if(i.phase>=1&&i.alpha<=0)return true;if(i.delay<=0){i.phase+=.02;i.alpha=Math.sin(i.phase)*1;i.alpha=i.alpha<=0?0:i.alpha;i.alpha=i.alpha>=1?1:i.alpha;if(this._options.animateSections){var n=Math.sin(1+i.phase*Math.PI/2)*.1;if(i.dir==="right"){i.point1.add(n,0);i.point2.add(n,0);i.point3.add(n,0)}else{i.point1.subtract(n,0);i.point2.subtract(n,0);i.point3.subtract(n,0)}i.point1.add(0,n);i.point2.add(0,n);i.point3.add(0,n)}}else i.delay-=.5;var o=this._options.colorSaturation;var e=this._options.colorBrightness;var s="hsla("+i.color+", "+o+", "+e+", "+i.alpha+" )";this._context.save();if(this._options.parallaxAmount!==0)this._context.translate(0,this._scroll*this._options.parallaxAmount);this._context.beginPath();this._context.moveTo(i.point1.x,i.point1.y);this._context.lineTo(i.point2.x,i.point2.y);this._context.lineTo(i.point3.x,i.point3.y);this._context.fillStyle=s;this._context.fill();if(this._options.strokeSize>0){this._context.lineWidth=this._options.strokeSize;this._context.strokeStyle=s;this._context.lineCap="round";this._context.stroke()}this._context.restore()}return false},_onDraw:function t(){for(var i=0,n=this._ribbons.length;i<n;++i)if(!this._ribbons[i])this._ribbons.splice(i,1);this._context.clearRect(0,0,this._width,this._height);for(var o=0;o<this._ribbons.length;++o){var e=this._ribbons[o];var s=e.length;var h=0;for(var a=0;a<s;++a)if(this._drawRibbonSection(e[a]))h++;if(h>=s)this._ribbons[o]=null}if(this._ribbons.length<this._options.ribbonCount)this.addRibbon();requestAnimationFrame(this._onDraw)},_onResize:function t(i){var n=s(i);this._width=n.width;this._height=n.height;if(this._canvas){this._canvas.width=this._width;this._canvas.height=this._height;if(this._context)this._context.globalAlpha=this._options.colorAlpha}},_onScroll:function t(i){var n=s(i);this._scroll=n.scrolly}},i}());var cn=document.getElementById("ribbon_piao"),mb=cn.getAttribute("mobile");"false"==mb&&/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)||new Ribbons({colorSaturation:"60%",colorBrightness:"50%",colorAlpha:.5,colorCycleSpeed:5,verticalPosition:"random",horizontalSpeed:200,ribbonCount:3,strokeSize:0,parallaxAmount:-.2,animateSections:!0});